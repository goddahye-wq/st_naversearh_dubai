# [작업지시서] 2025년 네이버 쇼핑 트렌드 데이터 수집 및 검증

이 문서는 네이버 쇼핑인사이트 API를 활용하여 2025년 한 해 동안의 일자별 쇼핑 트렌드 데이터를 안정적으로 수집하고 검증하기 위한 절차를 정의합니다.

## 1. 수집 목표
- **대상**: 네이버 쇼핑 카테고리별 클릭 트렌드
- **기간**: 2025년 1월 1일 ~ 2025년 12월 31일 (1년)
- **단위**: 일간 (date)
- **목적**: 2025년 연간 소비 트렌드 변화 분석 및 시각화용 기초 데이터 확보

## 2. 프로젝트 구조 (File Tree)
수집된 데이터와 스크립트는 `naver_api_mi_project` 폴더 하위에서 다음과 같이 관리합니다.

```text
naver_api_mi_project/
├── .env                        # 네이버 API Client ID, Secret (보안 관리)
├── .gitignore                  # .env 및 __pycache__ 제외 설정
├── .venv/                      # 루드 디렉토리의 가상환경 사용 (참조)
├── collect_data.py             # 데이터 수집 및 전처리 로직 (계획)
├── raw_data/                   # 수집된 원본 데이터 저장소 (CSV 형식)
│   └── {주제}_trend_2025_{수집날짜}.csv
├── doc/                        # API 가이드 및 수집 관리 문서
│   ├── datalab.md
│   ├── shopping_insight.md
│   ├── openapi_guide.md
│   ├── search_shopping.md
│   └── instruction_2025_shopping_trend.md
└── README.md                   # 프로젝트 개요 및 지침
```

## 3. 사전 준비 및 보안 사항
- **API 키 관리**: `client_id`와 `client_secret`은 코드 내에 직접 노출하지 않고, 프로젝트 루트의 `.env` 파일에 기록하여 관리합니다.
    - `.env` 형식:
      ```text
      NAVER_CLIENT_ID=your_id_here
      NAVER_CLIENT_SECRET=your_secret_here
      ```
- **환경 설정**: 루트 디렉토리의 `.venv` 가상환경을 사용하여 의존성을 관리합니다.

## 4. 데이터 저장 규칙
수집된 결과물은 분석의 용이성과 이력 관리를 위해 다음 규칙을 준수하여 저장합니다.

- **파일 형식**: CSV (Comma-Separated Values)
- **파일명 규칙**: `{수집내용}_{기간}_{수집날짜}.csv`
    - 예시: `dubai_cookie_trend_2025_20260110.csv`
- **제목 명시**: 파일명만으로도 어떤 주제의 데이터인지, 언제 수집되었는지 즉시 파악 가능해야 합니다.

## 5. 수집 및 검증 계획 (Logic Plan)
*이 단계에서는 코드를 작성하지 않고 전체적인 흐름만 설계합니다.*

1. **인증 로드**: `python-dotenv` 라이브러리를 통해 `.env` 파일의 API 키를 환경 변수로 로드합니다.
2. **파라미터 빌드**: 2025년 전체 기간(1/1 ~ 12/31)을 설정하고, 조회할 카테고리 ID를 매핑합니다.
3. **API 요청**: 네이버 쇼핑인사이트 엔드포인트에 POST 요청을 보냅니다.
4. **데이터 변환**: 수신된 JSON 데이터를 Pandas DataFrame으로 변환하여 날짜와 클릭 비중을 정렬합니다.
5. **무결성 검증**: 365일치 데이터가 누락 없이 포함되었는지 확인하는 체크 로직을 수행합니다.
6. **파일 출력**: 정의된 명명 규칙에 따라 `raw_data/` 폴더에 CSV를 생성합니다.
